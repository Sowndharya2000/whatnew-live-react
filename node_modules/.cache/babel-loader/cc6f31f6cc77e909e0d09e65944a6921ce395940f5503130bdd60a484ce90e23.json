{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Header2 from \"../components/Header2\";\nimport \"./Discovery.css\";\nexport default function Career() {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [selectedJob, setSelectedJob] = useState(null);\n  const [resume, setResume] = useState(null);\n  const [newJob, setNewJob] = useState({\n    title: \"\",\n    description: \"\",\n    location: \"\",\n    type: \"\",\n    salary: \"\"\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const jobsPerPage = 3;\n  const apiBase = process.env.REACT_APP_API_BASE || \"http://localhost:5000/api\";\n  useEffect(() => {\n    fetchJobs(currentPage);\n  }, [currentPage]);\n  const fetchJobs = async (page = 1) => {\n    try {\n      const res = await axios.get(`${apiBase}/jobs?page=${page}&limit=${jobsPerPage}`);\n      setJobs(res.data.jobs || []);\n    } catch (err) {\n      console.error(err);\n      alert('Could not fetch jobs');\n    }\n  };\n  const handleApply = async job => {\n    if (!resume) return alert(\"Please upload a resume first!\");\n    const form = new FormData();\n    form.append('resume', resume);\n    try {\n      const res = await axios.post(`${apiBase}/jobs/${job._id}/apply`, form, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert(res.data.message || 'Applied successfully');\n      setSelectedJob(null);\n      setResume(null);\n    } catch (err) {\n      console.error(err);\n      alert('Application failed');\n    }\n  };\n  const handlePostJob = async () => {\n    if (!newJob.title || !newJob.description) return alert(\"Please fill all fields!\");\n    try {\n      const res = await axios.post(`${apiBase}/jobs`, newJob);\n      alert(res.data.message || 'Job posted');\n      setNewJob({\n        title: \"\",\n        description: \"\",\n        location: \"\",\n        type: \"\",\n        salary: \"\"\n      });\n      fetchJobs(currentPage);\n    } catch (err) {\n      console.error(err);\n      alert('Failed to post job');\n    }\n  };\n\n  // Pagination UI handling\n  const totalPages = 10; // optional: you can fetch total from API and compute\n  // ...\n  // Render jobs list exactly like before, but use jobs.map(job => ...) and job._id\n}\n_s(Career, \"l1Pk7xfp3oS7jGxFSYeczl2WqZc=\");\n_c = Career;\nvar _c;\n$RefreshReg$(_c, \"Career\");","map":{"version":3,"names":["React","useEffect","useState","axios","Header2","Career","_s","jobs","setJobs","selectedJob","setSelectedJob","resume","setResume","newJob","setNewJob","title","description","location","type","salary","currentPage","setCurrentPage","jobsPerPage","apiBase","process","env","REACT_APP_API_BASE","fetchJobs","page","res","get","data","err","console","error","alert","handleApply","job","form","FormData","append","post","_id","headers","message","handlePostJob","totalPages","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/WhatNew React/whatnew/src/components/DiscoveryJobs.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header2 from \"../components/Header2\";\r\nimport \"./Discovery.css\";\r\n\r\nexport default function Career() {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [resume, setResume] = useState(null);\r\n  const [newJob, setNewJob] = useState({ title: \"\", description: \"\", location: \"\", type: \"\", salary: \"\" });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const jobsPerPage = 3;\r\n  const apiBase = process.env.REACT_APP_API_BASE || \"http://localhost:5000/api\";\r\n\r\n  useEffect(() => {\r\n    fetchJobs(currentPage);\r\n  }, [currentPage]);\r\n\r\n  const fetchJobs = async (page = 1) => {\r\n    try {\r\n      const res = await axios.get(`${apiBase}/jobs?page=${page}&limit=${jobsPerPage}`);\r\n      setJobs(res.data.jobs || []);\r\n    } catch (err) { console.error(err); alert('Could not fetch jobs'); }\r\n  };\r\n\r\n  const handleApply = async (job) => {\r\n    if (!resume) return alert(\"Please upload a resume first!\");\r\n    const form = new FormData();\r\n    form.append('resume', resume);\r\n    try {\r\n      const res = await axios.post(`${apiBase}/jobs/${job._id}/apply`, form, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      alert(res.data.message || 'Applied successfully');\r\n      setSelectedJob(null);\r\n      setResume(null);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Application failed');\r\n    }\r\n  };\r\n\r\n  const handlePostJob = async () => {\r\n    if (!newJob.title || !newJob.description) return alert(\"Please fill all fields!\");\r\n    try {\r\n      const res = await axios.post(`${apiBase}/jobs`, newJob);\r\n      alert(res.data.message || 'Job posted');\r\n      setNewJob({ title: \"\", description: \"\", location: \"\", type: \"\", salary: \"\" });\r\n      fetchJobs(currentPage);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to post job');\r\n    }\r\n  };\r\n\r\n  // Pagination UI handling\r\n  const totalPages = 10; // optional: you can fetch total from API and compute\r\n  // ...\r\n  // Render jobs list exactly like before, but use jobs.map(job => ...) and job._id\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}